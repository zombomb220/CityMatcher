
[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/Users/jorcox/Documents/CityMatcher[39m

 [31mâ¯[39m src/logic/simulation.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 10[2mms[22m[39m
[31m     [31mÃ—[31m should reset pools and run production chain[39m[32m 7[2mms[22m[39m
     [32mâœ“[39m should disable buildings if inputs missing[32m 2[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 1 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m src/logic/simulation.test.ts[2m > [22mSimulation Logic[2m > [22mshould reset pools and run production chain
[31m[1mReferenceError[22m: applyCost is not defined[39m
[36m [2mâ¯[22m runSimulation src/logic/simulation.ts:[2m223:9[22m[39m
    [90m221| [39m        [35mconst[39m stats [33m=[39m [33mBUILDING_STATS[39m[item[33m.[39mtile[33m.[39mtype][item[33m.[39mtile[33m.[39mtier][33m;[39m
    [90m222| [39m        [35mif[39m ([33m![39mstats [33m||[39m [33m![39mstats[33m.[39mbaseRequirements) [35mcontinue[39m[33m;[39m
    [90m223| [39m        [34mapplyCost[39m(stats[33m.[39mbaseRequirements)[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m224| [39m    }
    [90m225| [39m
[90m [2mâ¯[22m src/logic/simulation.test.ts:[2m31:25[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 17:59:52
[2m   Duration [22m 1.05s[2m (transform 108ms, setup 0ms, import 146ms, tests 10ms, environment 687ms)[22m

